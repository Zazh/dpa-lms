# Generated by Django 5.2.5 on 2025-11-14 13:33

import datetime
import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('content', '0002_alter_module_requires_previous_module'),
        ('graduates', '0001_initial'),
        ('groups', '0004_group_deadline_date_group_deadline_type_and_more'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.AlterModelOptions(
            name='graduate',
            options={'ordering': ['-completed_at'], 'verbose_name': '–í—ã–ø—É—Å–∫–Ω–∏–∫', 'verbose_name_plural': '–í—ã–ø—É—Å–∫–Ω–∏–∫–∏'},
        ),
        migrations.RemoveIndex(
            model_name='graduate',
            name='graduates_g_course__6dddc7_idx',
        ),
        migrations.AddField(
            model_name='graduate',
            name='completed_at',
            field=models.DateTimeField(auto_now_add=True, db_index=True, default=datetime.datetime(2025, 11, 14, 13, 33, 18, 492905, tzinfo=datetime.timezone.utc), help_text='–ö–æ–≥–¥–∞ –¥–æ—Å—Ç–∏–≥ 100% –ø—Ä–æ–≥—Ä–µ—Å—Å–∞', verbose_name='–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–±—É—á–µ–Ω–∏—è'),
            preserve_default=False,
        ),
        migrations.AddField(
            model_name='graduate',
            name='completion_details',
            field=models.JSONField(blank=True, default=dict, help_text='–î–∞—Ç—ã –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –º–æ–¥—É–ª–µ–π, —É—Ä–æ–∫–æ–≤, –ø–æ–ø—ã—Ç–∫–∏ —Ç–µ—Å—Ç–æ–≤', verbose_name='–î–µ—Ç–∞–ª–∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è'),
        ),
        migrations.AddField(
            model_name='graduate',
            name='graduated_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='graduated_students', to=settings.AUTH_USER_MODEL, verbose_name='–í—ã–ø—É—Å—Ç–∏–ª (–º–µ–Ω–µ–¥–∂–µ—Ä)'),
        ),
        migrations.AddField(
            model_name='graduate',
            name='status',
            field=models.CharField(choices=[('pending', '‚è≥ –ó–∞–∫–æ–Ω—á–∏–ª –æ–±—É—á–µ–Ω–∏–µ (–æ–∂–∏–¥–∞–µ—Ç –≤—ã–ø—É—Å–∫–∞)'), ('graduated', 'üéì –í—ã–ø—É—â–µ–Ω'), ('rejected', '‚ùå –û—Ç–∫–ª–æ–Ω–µ–Ω')], db_index=True, default='pending', max_length=20, verbose_name='–°—Ç–∞—Ç—É—Å'),
        ),
        migrations.AlterField(
            model_name='graduate',
            name='final_score',
            field=models.DecimalField(decimal_places=2, default=0, help_text='–°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª –ø–æ –≤—Å–µ–º —Ç–µ—Å—Ç–∞–º', max_digits=5, verbose_name='–ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞ (%)'),
        ),
        migrations.AlterField(
            model_name='graduate',
            name='graduated_at',
            field=models.DateTimeField(blank=True, db_index=True, help_text='–ö–æ–≥–¥–∞ –º–µ–Ω–µ–¥–∂–µ—Ä –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –≤—ã–ø—É—Å–∫', null=True, verbose_name='–î–∞—Ç–∞ –≤—ã–ø—É—Å–∫–∞'),
        ),
        migrations.AlterField(
            model_name='graduate',
            name='group',
            field=models.ForeignKey(blank=True, help_text='–ì—Ä—É–ø–ø–∞ –≤ –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–æ—Ö–æ–¥–∏–ª –æ–±—É—á–µ–Ω–∏–µ', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='graduates', to='groups.group', verbose_name='–ì—Ä—É–ø–ø–∞'),
        ),
        migrations.AlterField(
            model_name='graduate',
            name='notes',
            field=models.TextField(blank=True, verbose_name='–ü—Ä–∏–º–µ—á–∞–Ω–∏—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞'),
        ),
        migrations.AddIndex(
            model_name='graduate',
            index=models.Index(fields=['status', '-completed_at'], name='graduates_g_status_19c813_idx'),
        ),
        migrations.AddIndex(
            model_name='graduate',
            index=models.Index(fields=['group', 'status'], name='graduates_g_group_i_ccd3c9_idx'),
        ),
    ]
